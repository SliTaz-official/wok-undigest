# SliTaz package receipt.

PACKAGE="mupdf"
VERSION="r940"
CATEGORY="utilities"
SHORT_DESC="lightweight PDF viewer and toolkit written in portable C"
MAINTAINER="devl547@gmail.com"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://ccxvii.net/mupdf/"
WGET_URL="http://ccxvii.net/mupdf/download/$TARBALL"
BUILD_DEPENDS="ftjam"
DEPENDS="freetype jpeg zlib"

# Rules to configure and make the package.
compile_rules()
{
	cd mupdf
	jam '-sBUILD=release -sDEFINES=NOCJK'
	strip -s build/linux-x86-release/linux-x86--sdefines=nocjk/mupdf
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/bin
	cp mupdf/build/linux-x86-release/linux-x86--sdefines=nocjk/mupdf $fs/usr/bin/mupdf
}
